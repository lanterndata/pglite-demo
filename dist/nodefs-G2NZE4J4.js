import{i as a,k as n,l as m,r as p,t as f,u as i}from"./chunk-THKM2UGU.js";a();import*as t from"fs";import*as s from"path";var c=class extends n{constructor(r){super(r),this.rootDir=s.resolve(r)}async init(r){if(!this.dataDir)throw new Error("No datadir specified");return t.existsSync(s.join(this.dataDir,"PG_VERSION"))?!1:(t.mkdirSync(this.dataDir),await f(this.dataDir,r),!0)}async emscriptenOpts(r){let o={...r,preRun:[...r.preRun||[],e=>{let l=e.FS.filesystems.NODEFS;e.FS.mkdir(i),e.FS.mount(l,{root:this.rootDir},i)}]},{require:u}=await p();return m(o,u),o}};export{c as NodeFS};
//# sourceMappingURL=nodefs-G2NZE4J4.js.map